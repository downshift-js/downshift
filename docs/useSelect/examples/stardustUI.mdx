---
name: StardustUI
menu: useSelect
route: /hooks/useselect/stardustui
---

import {Playground} from 'docz'
import {useSelect} from '../../../src'
import {items, menuStyles} from './stardustUI'
import {
  Provider,
  themes,
  Button,
  Text,
  List,
  Ref,
  Image,
} from '@stardust-ui/react'

# useSelect

## Readme

The `useSelect` hook provides functionality and accessibility to a dropdown that should act as a HTML `<select>`, as described
by the corresponding [ARIA docs](https://www.w3.org/TR/wai-aria-practices/examples/listbox/listbox-collapsible.html).

User should be allowed to perform a selection after opening the dropdown's menu. Only one item may be selected at a time.
The widget should be built using a text label (optional but recommended), a button that toggles the menu, the menu itself
and the collection of items that belong in the menu.

## StardustUI

A dropdown created with StardustUI components such as `<Label>`, `<List>`, `<ListItem>` and `<Button>` for the elements. Since
these are components and not HTML elements, Downshift asks for refs to their actual DOM elements, in order to perform focusing
and scrolling. Stardust uses the `<Ref>` component to get access to the ref of the child component. The ref property is extracted
from the Downshift returned method and then passed to the `<Ref>` as shown in the example.

https://stardust-ui.github.io/react/

## Playground

<Playground style={{height: '150px'}}>
  {() => {
    const DropdownSelectStardustUI = () => {
      const {
        isOpen,
        selectedItem,
        getToggleButtonProps,
        getLabelProps,
        getMenuProps,
        highlightedIndex,
        getItemProps,
      } = useSelect({items, itemToString: item => item.header})
      const toggleButtonProps = getToggleButtonProps({
        refKey: 'toggleButtonRef',
      })
      const menuProps = getMenuProps({
        refKey: 'menuRef',
      })
      const {toggleButtonRef} = toggleButtonProps
      const {menuRef} = menuProps
      delete toggleButtonProps.toggleButtonRef
      delete menuProps.menuRef

      return (
        <Provider theme={themes.teams}>
          <Text {...getLabelProps()} content={'Fictional characters:'} />
          <Ref innerRef={toggleButtonRef}>
            <Button
              content={selectedItem && selectedItem.header || 'Choose your favorite'}
              icon="arrow-down"
              iconPosition="after"
              {...toggleButtonProps}
            />
          </Ref>
          <Ref innerRef={menuRef}>
            <List {...menuProps} style={menuStyles}>
              {isOpen &&
                items.map((option, index) => {
                  const itemProps = getItemProps({item: option, index, refKey: 'itemRef'})
                  const {itemRef} = itemProps
                  delete itemProps.itemRef
                  return (
                    <Ref key={`${option.header}-${index}`} innerRef={itemRef}>
                      <List.Item
                        header={option.header}
                        content={option.content}
                        style={
                          highlightedIndex === index
                            ? {backgroundColor: '#bde4ff'}
                            : {}
                        }
                        {...itemProps}
                      />
                    </Ref>
                )
                })}
            </List>
          </Ref>
        </Provider>
      )
    }
    return <DropdownSelectStardustUI />

}}

</Playground>
